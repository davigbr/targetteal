<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.7/angular.min.js"></script>
<div ng-app="myApp" ng-controller="assessmentController">
	<h1>Resultados</h1>
	<p>Feito! Avaliação concluída. Confira os resultados abaixo.</p>
	<p>A sua organização é... </p>
	<div class="row">
		<div class="col-lg-6">
			<div ng-repeat="(id, obj) in progressData" class="fusion-progressbar fusion-progressbar-text-on-bar">
				<div style="background-color: {{obj.lightColor}}; height: 37px;" class="fusion-progressbar-bar progress-bar">
					<div id="{{id}}-bar" class="progress progress-bar-content" style="width: 20%; background-color: {{obj.darkColor}}; border: none;" role="progressbar"></div>
				</div>
				<span class="progress-title" style="color: #000000;"><span class="fusion-progressbar-value" id="{{id}}-text">20%</span>:&nbsp;<span class="fusion-progressbar-text">{{obj.text}}</span>
				</span>
			</div>
		</div>
		<div class="col-lg-6">
			
		</div>
	</div>
	<p>Consulte <a href="http://targetteal.com/os-5-estagios-de-desenvolvimento-organizacional/" target="_blank">Os 5 Estágios de Desenvolvimento Organizacional</a> para maiores informações sobre cada cor.</p>

	<div class="share-box fusion-sharing-box boxed-icons" style="background-color:#ffffff;"><h4 class="tagline" style="color:#333333;">Gostou da avaliação? Compartilhe nas redes sociais :)</h4><div class="fusion-social-networks boxed-icons"><a class="fusion-social-network-icon fusion-tooltip fusion-facebook fusion-icon-facebook" href="http://www.facebook.com/sharer.php?m2w&amp;s=100&amp;p[url]=&amp;p[images][0]=&amp;p[title]=" target="_blank" style="color:#ffffff;background-color:#3b5998;border-color:#3b5998;border-radius:4px;" data-placement="top" data-title="Facebook" title="Facebook" data-toggle="tooltip"></a><a class="fusion-social-network-icon fusion-tooltip fusion-twitter fusion-icon-twitter" href="https://twitter.com/share?text=&amp;url=" target="_blank" style="color:#ffffff;background-color:#55acee;border-color:#55acee;border-radius:4px;" data-placement="top" data-title="Twitter" title="Twitter" data-toggle="tooltip"></a><a class="fusion-social-network-icon fusion-tooltip fusion-linkedin fusion-icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=&amp;title=&amp;summary=" target="_blank" style="color:#ffffff;background-color:#0077b5;border-color:#0077b5;border-radius:4px;" data-placement="top" data-title="Linkedin" title="Linkedin" data-toggle="tooltip"></a><a class="fusion-social-network-icon fusion-tooltip fusion-reddit fusion-icon-reddit" href="http://reddit.com/submit?url=&amp;title=" target="_blank" style="color:#ffffff;background-color:#ff4500;border-color:#ff4500;border-radius:4px;" data-placement="top" data-title="Reddit" title="Reddit" data-toggle="tooltip"></a><a class="fusion-social-network-icon fusion-tooltip fusion-googleplus fusion-icon-googleplus" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;" href="https://plus.google.com/share?url=" target="_blank" style="color:#ffffff;background-color:#dc4e41;border-color:#dc4e41;border-radius:4px;" data-placement="top" data-title="Google+" title="Google+" data-toggle="tooltip"></a><a class="fusion-social-network-icon fusion-tooltip fusion-pinterest fusion-icon-pinterest" href="http://pinterest.com/pin/create/button/?url=&amp;description=&amp;media=" target="_blank" style="color:#ffffff;background-color:#bd081c;border-color:#bd081c;border-radius:4px;" data-placement="top" data-title="Pinterest" title="Pinterest" data-toggle="tooltip"></a><a class="fusion-social-network-icon fusion-tooltip fusion-mail fusion-icon-mail" href="mailto:?subject=&amp;body=" target="_self" style="color:#ffffff;background-color:#000000;border-color:#000000;border-radius:4px;" data-placement="top" data-title="Mail" title="Mail" data-toggle="tooltip"></a></div></div>
</div>
<script type="text/javascript">
	var getUrlParameter = function getUrlParameter(sParam) {
	    var sPageURL = decodeURIComponent(window.location.search.substring(1));
	    var sURLVariables = sPageURL.split('&');
	    var sParameterName;
	    var i;
	    for (i = 0; i < sURLVariables.length; i++) {
	        sParameterName = sURLVariables[i].split('=');

	        if (sParameterName[0] === sParam) {
	            return sParameterName[1] === undefined ? true : sParameterName[1];
	        }
	    }
	    return 0;
	};
	var app = angular.module('myApp', []);
	app.controller('assessmentController', function($scope, $http) {
		var progressData = {
			'impulsiva': { text:'Impulsiva - Vermelha', lightColor: '#f4cccc', darkColor: '#e06666' },
			'conformista': { text: 'Conformista - Âmbar', lightColor: '#fff2cc', darkColor: '#ffd966' },
			'conquista': { text: 'Conquista - Laranja', lightColor: '#fce5cd', darkColor: '#f6b26b' },
			'pluralistica': { text: 'Pluralística - Verde', lightColor: '#d9ead3', darkColor: '#93c47d' },
			'evolutiva': { text: 'Evolutiva - Verde-Azulada', lightColor: '#d0e0e3', darkColor: '#76a5af' }
		};
		$scope.progressData = progressData;

		$(function() {
			var impulsivaPerc = (100 * parseInt(getUrlParameter('r1')) / 12).toFixed(0);
			var conformistaPerc = (100 * parseInt(getUrlParameter('r2')) / 12).toFixed(0);
			var conquistaPerc = (100 * parseInt(getUrlParameter('r3')) / 12).toFixed(0);
			var pluralisticaPerc = (100 * parseInt(getUrlParameter('r4')) / 12).toFixed(0);
			var evolutivaPerc = (100 * parseInt(getUrlParameter('r5')) / 12).toFixed(0);

			$('#impulsiva-bar').css('width', impulsivaPerc + '%');
			$('#impulsiva-text').text(impulsivaPerc + '%');
			$('#conformista-bar').css('width', conformistaPerc + '%');
			$('#conformista-text').text(conformistaPerc + '%');
			$('#conquista-bar').css('width', conquistaPerc + '%');
			$('#conquista-text').text(conquistaPerc + '%');
			$('#pluralistica-bar').css('width', pluralisticaPerc + '%');
			$('#pluralistica-text').text(pluralisticaPerc + '%');
			$('#evolutiva-bar').css('width', evolutivaPerc + '%');
			$('#evolutiva-text').text(evolutivaPerc + '%');
		});
	});
</script>
